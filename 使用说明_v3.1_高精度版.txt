# 音频分割工具使用说明 v3.1 - 高精度版

## 🎉 v3.1版本重大更新

### 🔥 全新高精度分割算法
- **统一精度标准**：所有分割模式现在都具有相同的高精度
- **完美音频衔接**：分割后的音频片段可以完美重建原始音频
- **消除割裂感**：所有分割点都精确对齐到采样点边界
- **专业级精度**：达到采样点级别的精确控制，误差为0

### ✨ 改进亮点
1. **固定长度分割**：现在具有与智能分割相同的高精度
2. **自定义长度分割**：同样升级到高精度算法
3. **预览一致性**：预览显示的分割点与实际分割完全一致
4. **向后兼容**：保持所有原有功能和操作方式不变

---

## 📖 功能概述

本工具是一个专业的音频分割软件，支持MP3和WAV格式，提供三种分割模式：
- **固定时长分割**：按指定时长均匀分割
- **自定义长度分割**：按用户指定的长度序列分割
- **智能分割**：在静音或低音量处寻找最佳分割点

### 🎯 核心特性
- ✅ **高精度分割**：所有模式都达到采样点级别的精确度
- ✅ **完美衔接**：分割后音频无缝拼接，无割裂感
- ✅ **可视化预览**：实时波形显示和分割点预览
- ✅ **智能优化**：自动寻找最佳分割位置
- ✅ **批量处理**：一次性生成多个音频片段

---

## 🚀 快速开始

### 1. 基本操作流程
1. **选择音频文件**：点击"浏览"按钮选择MP3或WAV文件
2. **选择分割模式**：固定时长或自定义长度
3. **配置参数**：设置分割时长或长度序列
4. **启用智能分割**（可选）：在静音处调整分割点
5. **预览效果**：在右侧波形图中查看分割点位置
6. **开始分割**：点击"开始分割"按钮执行分割

### 2. 固定时长分割
- 选择"固定时长"模式
- 输入分割时长（如60）
- 选择单位（秒或分钟）
- 可选择启用智能分割优化分割点

**示例**：
- 设置：每60秒分割
- 效果：音频被均匀分割成60秒的片段
- 高精度：每个分割点都精确对齐到采样点边界

### 3. 自定义长度分割
- 选择"自定义长度"模式
- 输入长度序列，用逗号分隔（如：30,45,60,90）
- 支持小数（如：1.5,2.5,3.0）
- 系统自动计算最后一段长度

**示例**：
- 输入：3,5,10
- 含义：第1段3秒，第2段5秒，第3段10秒，第4段为剩余部分
- 高精度：每个自定义长度都精确到采样点级别

---

## 🎛️ 智能分割详解

### 智能分割原理
智能分割会在目标分割点附近寻找最佳位置：
1. 分析目标时间点周围的音频音量
2. 优先选择静音区域或音量最低的位置
3. 在搜索范围内找到最佳分割点
4. 确保下一段从选定位置精确开始

### 搜索范围设置
- **0.5秒**：精确分割，适合对时长要求严格的场景
- **1-2秒**：平衡精度和智能性，推荐设置
- **3-5秒**：最大智能性，适合音乐内容复杂的场景

### 分割点选择策略
1. 在搜索范围内分析音频音量变化
2. 检测静音区域和低音量区域
3. 优先选择静音区域中心点
4. 其次选择音量最低的位置
5. 确保分割点精确对齐到采样点边界

---

## 📊 波形可视化功能

### 波形图说明
- **上方图**：音频波形，显示音频振幅变化
- **下方图**：RMS音量变化，显示音量强度曲线
- **黄色区域**：自动检测的静音段
- **绿色虚线**：计划的分割点位置
- **红色虚线**：当前选中的分割点

### 预览功能
- **实时更新**：修改参数后自动更新分割点预览
- **精确显示**：预览的分割点与实际分割完全一致
- **交互操作**：可以点击波形图查看详细信息

---

## ⚙️ 高级设置

### 精度控制
- **采样点对齐**：所有分割点都自动对齐到采样点边界
- **连续性保证**：使用位置跟踪确保音频片段完美衔接
- **误差消除**：避免浮点数计算误差，确保精确分割

### 输出设置
- **文件命名**：自动生成有序的文件名（如：音频_part_001.mp3）
- **输出目录**：在原文件目录下创建"output"文件夹
- **格式保持**：输出文件保持与原文件相同的格式和质量

---

## 🔧 技术特性

### v3.1版本技术改进
1. **统一精度算法**：所有分割模式使用相同的高精度算法
2. **采样点对齐**：使用round()函数确保精确对齐
3. **连续性跟踪**：current_position变量确保完美衔接
4. **误差消除**：避免累积的浮点数计算误差

### 精度对比
| 分割模式 | v3.0精度 | v3.1精度 | 改进效果 |
|---------|---------|---------|----------|
| 智能分割 | 高精度 | 高精度 | 保持 |
| 固定长度 | 中等精度 | **高精度** | **显著提升** |
| 自定义长度 | 中等精度 | **高精度** | **显著提升** |

### 音频质量保证
- **无损分割**：分割过程不重新编码，保持原始音质
- **完美重建**：分割后的音频可以完美重建原始音频
- **零误差**：采样点级别的精确控制，误差为0

---

## 📝 使用技巧

### 最佳实践
1. **选择合适的分割模式**：
   - 均匀分割：使用固定时长模式
   - 特定需求：使用自定义长度模式
   - 音乐内容：启用智能分割优化

2. **智能分割设置**：
   - 语音内容：搜索范围1-2秒
   - 音乐内容：搜索范围2-3秒
   - 复杂音频：搜索范围3-5秒

3. **预览验证**：
   - 分割前查看波形图确认分割点位置
   - 注意静音区域的分布
   - 确认分割点符合预期

### 常见问题解决
1. **分割点不理想**：
   - 调整搜索范围
   - 启用智能分割
   - 检查音频中的静音区域

2. **文件过大**：
   - 减小分割时长
   - 使用自定义长度精确控制

3. **精度要求高**：
   - v3.1版本已自动提供最高精度
   - 所有模式都达到采样点级别精确度

---

## 🎉 版本历史

### v3.1 (当前版本) - 高精度版
- ✅ 统一所有分割模式的精度标准
- ✅ 实现采样点级别的精确控制
- ✅ 确保音频片段完美衔接
- ✅ 消除所有分割模式的割裂感

### v3.0 - 智能分割版
- ✅ 新增智能分割功能
- ✅ 实时波形可视化
- ✅ 静音检测和最佳分割点寻找

### v2.0 - 自定义长度版
- ✅ 新增自定义长度分割功能
- ✅ 支持小数时长输入
- ✅ 智能边界条件处理

### v1.0 - 基础版
- ✅ 固定时长分割功能
- ✅ 支持MP3和WAV格式
- ✅ 基本的用户界面

---

## 📞 技术支持

如有问题或建议，请参考：
1. 本使用说明文档
2. 项目总结文档
3. 音频分割精度改进总结文档

**享受高精度、专业级的音频分割体验！** 🎵
