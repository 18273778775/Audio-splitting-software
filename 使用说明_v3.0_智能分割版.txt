音频分割工具 v3.0 - 智能分割版 使用说明
==========================================

## 🎉 v3.0 重大更新亮点

### 🔥 核心功能升级
✨ **智能分割算法** - 在音频低谷处分割，彻底解决音频卡顿问题
✨ **内嵌波形可视化** - 实时显示音频波形和分割点
✨ **连贯性保证** - 确保分割后的音频完全连贯，无缝隙
✨ **可调搜索范围** - 自定义智能分割的搜索范围（0.5-5秒）
✨ **全新UI设计** - 左右分栏布局，操作更直观

### 🎯 智能分割原理
传统分割：严格按时间点分割，可能在音乐高峰处切断
智能分割：在目标时间点前后指定范围内寻找音量最低的位置分割

例如：目标14秒分割，搜索范围2秒
- 在12-16秒范围内寻找最佳分割点
- 选择音量最低的位置（如13.5秒的静音段）
- 下一段从13.5秒开始，确保音频连贯

## 功能特色

### 🎵 多种分割模式
1. **固定时长分割**：按固定间隔分割（如每60秒）
2. **自定义长度分割**：指定每段的具体长度（如3,5,10秒）
3. **智能优化**：两种模式都可启用智能分割

### 📊 可视化界面
- **左侧控制面板**：所有设置和操作按钮
- **右侧波形显示**：实时显示音频波形和分割点
- **静音区域标记**：黄色区域显示检测到的静音段
- **分割点预览**：绿色虚线显示计划的分割位置

### ⚙️ 智能分割设置
- **启用开关**：可选择启用或关闭智能分割
- **搜索范围**：设置在目标时间前后多少秒内搜索最佳点
- **实时预览**：设置变化时立即更新波形上的分割点

## 详细使用方法

### 1. 基本操作流程
1. **选择音频文件**：点击"浏览"按钮选择MP3或WAV文件
2. **选择分割模式**：固定时长或自定义长度
3. **配置智能分割**：启用智能分割并设置搜索范围
4. **预览分割效果**：在右侧波形图中查看分割点位置
5. **开始分割**：点击"开始分割"按钮执行分割

### 2. 固定时长分割
- 选择"固定时长"模式
- 输入分割时长（如60）
- 选择单位（秒或分钟）
- 启用智能分割可在静音处调整分割点

**示例**：
- 设置：每60秒分割，启用智能分割，搜索范围2秒
- 效果：在58-62秒范围内寻找最佳分割点

### 3. 自定义长度分割
- 选择"自定义长度"模式
- 输入长度序列，用逗号分隔（如：30,45,60,90）
- 支持小数（如：1.5,2.5,3.0）
- 系统自动计算最后一段长度

**示例**：
- 输入：3,5,10
- 含义：第1段3秒，第2段5秒，第3段10秒，第4段为剩余部分

### 4. 智能分割设置详解

#### 搜索范围设置
- **0.5秒**：精确分割，适合对时长要求严格的场景
- **1-2秒**：平衡精度和智能性，推荐设置
- **3-5秒**：最大智能性，适合音乐内容复杂的场景

#### 分割点选择策略
1. 在搜索范围内分析音频音量
2. 优先选择静音区域
3. 其次选择音量最低的位置
4. 确保下一段从选定位置开始

### 5. 波形可视化功能

#### 波形图说明
- **上方图**：音频波形，显示音频振幅变化
- **下方图**：RMS音量变化，显示音量强度
- **黄色区域**：自动检测的静音段
- **绿色虚线**：计划的分割点位置
- **红色虚线**：当前选中的分割点

#### 交互功能
- **点击分割点**：选中分割点（变为红色）
- **实时更新**：修改设置时自动更新分割点
- **刷新波形**：重新加载和分析音频

## 高级功能

### 🎛️ 边界条件处理
- **最后一段过短**：如果最后一段<1秒，自动跳过
- **总时长超出**：如果指定总时长≥音频长度，提示错误
- **智能调整**：分割点自动调整到合适位置

### 📈 性能优化
- **大文件支持**：高效处理长音频文件
- **实时分析**：快速音量分析和静音检测
- **内存优化**：采样显示波形，提高响应速度

### 🔧 输入验证
- **格式检查**：自动验证音频文件格式
- **数值验证**：检查分割参数的有效性
- **实时提示**：输入时显示预览和错误信息

## 输出文件说明

### 文件命名规则
```
原文件名_part_001.扩展名
原文件名_part_002.扩展名
原文件名_part_003.扩展名
...
```

### 输出位置
分割后的文件保存在原音频文件所在目录下的"output"文件夹中

### 质量保证
- 保持原始音频质量
- 无损分割处理
- 完整的元数据保留

## 系统要求

- **操作系统**：Windows 10 或更高版本
- **内存**：建议4GB以上
- **磁盘空间**：至少1GB可用空间
- **显示器**：建议1200x800以上分辨率

## 故障排除

### 常见问题

**Q: 为什么智能分割的段长度与设置不完全一致？**
A: 智能分割会在设置的搜索范围内寻找最佳分割点，可能与目标时间有小幅偏差，这是为了避免在音乐高峰处分割。

**Q: 如何确保分割后的音频完全连贯？**
A: v3.0已修复连贯性问题，每个分割点都基于前一个实际分割点计算，确保音频无缝连接。

**Q: 搜索范围设置多少合适？**
A: 建议1-2秒，既能保证智能性又不会偏离目标时间太远。

**Q: 波形图显示中文乱码怎么办？**
A: 这是字体警告，不影响功能使用，可以忽略。

**Q: 处理大文件时程序响应慢怎么办？**
A: 程序会自动优化显示，大文件的波形会采样显示以提高性能。

### 错误处理
- **文件格式不支持**：仅支持MP3和WAV格式
- **文件损坏**：检查音频文件是否完整
- **权限问题**：确保对文件夹有写入权限
- **内存不足**：关闭其他程序释放内存

## 使用技巧

### 💡 最佳实践
1. **音乐分割**：启用智能分割，搜索范围设置2秒
2. **语音分割**：可使用较小搜索范围（0.5-1秒）
3. **精确分割**：关闭智能分割，使用传统模式
4. **批量处理**：先用一个文件测试设置，再处理其他文件

### 🎯 应用场景
- **音乐制作**：将长音轨分割为单独的歌曲
- **播客编辑**：按话题分割长播客
- **教学内容**：分割教学视频的音频部分
- **音频分析**：将音频分段进行详细分析

## 版本历史

### v3.0 (当前版本) - 智能分割版
- 🔥 新增智能分割算法
- 🔥 内嵌波形可视化界面
- 🔥 修复分割连贯性问题
- 🔥 可调搜索范围设置
- 🔥 全新UI设计
- 🔥 性能优化和错误处理增强

### v2.0 - 自定义长度版
- 新增自定义长度分割功能
- 实时预览和输入验证
- 优化用户界面布局
- 增强错误处理

### v1.0 - 基础版
- 基础固定时长分割功能
- 支持MP3和WAV格式
- 进度显示和错误处理

## 技术支持

如有问题或建议，请联系开发者。

---
音频分割工具 v3.0 - 让音频分割更智能、更精确、更连贯！
